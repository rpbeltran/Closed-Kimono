<!DOCTYPE html>
<html lang="en">

<head>
    <!--Import Google Icon Font-->
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script src = "libraries/jquery-3.1.1.min.js" ></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>

    <script src="./cards/card.js"> </script>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

</head>

<body>
<!--
<div id = "browser" >

</div>


<script type = "text/javascript" >

    function loadJSON(source, callback) {
        var xobj = new XMLHttpRequest();
        xobj.overrideMimeType( "application/json" );
        xobj.open('GET', source, true); // Replace 'my_data' with the path to your file
        xobj.onreadystatechange = function () {
            if (xobj.readyState == 4 && xobj.status == "200") {
                // Required use of an anonymous callback as .open will NOT return a value but simply returns undefined in asynchronous mode
                callback(xobj.responseText);
            }
        };
        xobj.send(null);
    }

    function drawCards( db, path, back ) {

        folder = db ;
        for ( var i = 0, l = path.length; i < l; i++ ) {
            folder = folder[ path[i] ];
        }

        if (path.length != 0) {
            db.data.unshift( "back_button" );
        }
        db.push( "new_button");

        var row = 0;
        $.each( db.data, function (key, data) {

            if (key % 5 == 0) {
                row += 1;
                $('#browser').append( '<div class="row" id="row'+row.toString()+'">  </div>' );
            }

            if (data == "back_button") {
                $('#row' + row.toString() ).append( backCard( ) );
            } else if (data == "backbutton") {
                $('#row' + row.toString() ).append( backCard( ) );
            }else {
                    $('#row' + row.toString() ).append( jsonCard(data) );
            }

        });
    }

    function drawCardsFromJSON( source, path ) {

        loadJSON( source, function( response ) {


            var data = JSON.parse( response );

            drawCards( data, path );

            $(".dataCard activator").click( function() {
                $(this).attr("data")
            })

        });
    }

    function openF

</script>

<script type = "text/javascript" >

    drawCardsFromJSON( "./cards/database.json", [ ] );

</script>-->
    
<script>document.location = "login/";</script>

</body>

</html>


